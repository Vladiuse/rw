<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

</head>

<body>



  <h1>{{param}} - 11</h1>
  <form method="POST">
    {%csrf_token%}
    <input name="param"><br>
    <button type="submit">Send</button>
  </form>
  
  <div class="toast-container position-absolute bottom-0 end-0 p-3">
    {% for message in messages %}
    <div class="toast align-items-center text-white  border-0 " role="alert" aria-live="assertive" aria-atomic="true"
      data-message-level="{{message.level}}">
      <div class="d-flex">
        <div class="toast-body">
          {{message}}
        </div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
          aria-label="Close"></button>
      </div>
    </div>
    {% endfor %}
  </div>








  <script>
    var djangoLevelsBs = {
      '10': {
        'name': 'DEBUG',
        'bs-class': 'bg-light',
      },
      '20': {
        'name': 'INFO',
        'bs-class': 'bg-primary',
      },
      '25': {
        'name': 'SUCCESS',
        'bs-class': 'bg-success',
      },
      '30': {
        'name': 'WARNING',
        'bs-class': 'bg-warning',
      },
      '40': {
        'name': 'ERROR',
        'bs-class': 'bg-danger',
      },

    }
    var toastElList = [].slice.call(document.querySelectorAll('.toast'))
    toastElList.forEach(elem => {
      var bsClass = djangoLevelsBs[elem.dataset.messageLevel]['bs-class']
      elem.classList.add(bsClass)
    })
    var toastList = toastElList.map(function (toastEl) {
      return new bootstrap.Toast(toastEl,)
    })

    toastList.forEach(toast => {
      toast.show()
    });
  </script>
</body>

</html>